{% extends "base.html" %}

{% block title %}Map{% endblock %}

{% block content %}
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var map = L.map('map').setView([40.4093, 49.8671], 12);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            }).addTo(map);

            var customIcon = L.icon({
                iconUrl: '/static/images/marker-icon.png',
                iconRetinaUrl: '/static/images/marker-icon-2x.png',
                shadowUrl: '/static/images/marker-shadow.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                shadowSize: [41, 41]
            });

            L.marker([40.4093, 49.8671], {icon: customIcon}).addTo(map)
                .bindPopup('This is Baku!')
                .openPopup();

            setTimeout(function() {
                map.invalidateSize();
            }, 100);
        });
    </script>

    <style>
        #map { height: 500px; width: 100%; }
    </style>
{% endblock %}
